<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>军势浩荡围棋 - 三方博弈的战略杰作</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">

          <style>
        /* 音乐播放器样式 - 内联添加 */
        .music-player {
            position: fixed;
            top: 15px;
            left: 15px;
            width: 50px;
            height: 50px;
            background: linear-gradient(145deg, #1e1e1e, #252525);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            border: 1px solid #333;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            overflow: hidden;
        }
        
        .music-player.expanded {
            width: 200px;
            height: auto;
            min-height: 50px;
            padding: 10px;
        }
        
        .music-player::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(to right, #8b0000, #d4af37);
            border-radius: 8px 8px 0 0;
        }
        
        .music-player:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.5);
        }
        
        .music-icon {
            width: 24px;
            height: 24px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .music-icon::before {
            content: '♪';
            font-size: 20px;
            color: #d4af37;
        }
        
        .music-controls {
            display: none;
            width: 100%;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        .music-player.expanded .music-controls {
            display: flex;
        }
        
        .music-player.expanded .music-icon {
            display: none;
        }
        
        .control-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            width: 100%;
        }
        
        .control-btn {
            background: rgba(212, 175, 55, 0.2);
            border: 1px solid #d4af37;
            color: #d4af37;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .control-btn:hover {
            background: rgba(212, 175, 55, 0.4);
            transform: scale(1.1);
        }
        
        .volume-control {
            width: 100%;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .volume-icon {
            color: #d4af37;
            font-size: 14px;
        }
        
        .volume-slider {
    flex: 1;
    -webkit-appearance: none; /* 去除默认样式，针对Webkit浏览器 */
    -moz-appearance: none;    /* 去除默认样式，针对Firefox浏览器 */
    appearance: none;         /* 标准属性，去除默认样式 */
    height: 4px;
    background: #333;
    border-radius: 2px;
    outline: none;
    }

        .volume-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #d4af37;
    cursor: pointer;
    }

        .volume-slider::-moz-range-thumb {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #d4af37;
    cursor: pointer;
    border: none; /* 在Firefox中，需要去掉默认的边框 */
    }
        
        .music-player.playing .music-icon::before {
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }
        
        /* 响应式调整 */
        @media (max-width: 768px) {
            .music-player {
                top: 10px;
                left: 10px;
                width: 40px;
                height: 40px;
            }
            
            .music-player.expanded {
                width: 180px;
            }
            
            .music-icon {
                width: 20px;
                height: 20px;
            }
            
            .music-icon::before {
                font-size: 16px;
            }
            
            .control-btn {
                width: 25px;
                height: 25px;
                font-size: 12px;
            }
        }
    </style>

</head>
<body>

          <div class="music-player" id="musicPlayer" aria-label="背景音乐播放控制">
        <div class="music-icon"></div>
        <div class="music-controls">
            <div class="control-buttons">
                <button class="control-btn" id="prevBtn" aria-label="上一首">◀◀</button>
                <button class="control-btn" id="playPauseBtn" aria-label="播放/暂停">▶</button>
                <button class="control-btn" id="nextBtn" aria-label="下一首">▶▶</button>
            </div>
            <div class="volume-control">
                <span class="volume-icon">🔊</span>
                <input type="range" class="volume-slider" id="volumeSlider" min="0" max="1" step="0.1" value="0.5">
            </div>
        </div>
        <audio id="bgMusic" loop>
            <source src="music/0558_030c_545a_228b276b704ffdf2992ac0b49fb52bd3.m4a" type="audio/mpeg">
            <source src="music/Distractions.m4a" type="audio/mpeg">
            <source src="music/Kauan.m4a" type="audio/mpeg">
            <source src="music/Sometimes.mp3" type="audio/mpeg">
            <source src="music/Sudade.m4a" type="audio/mpeg">
            <source src="music/The wind, The Sea.m4a" type="audio/mpeg">
            <source src="music/This Place Is a Shelter.m4a" type="audio/mpeg">
            <source src="music/克莱因之心.m4a" type="audio/mpeg">
            <source src="music/燃.mp3" type="audio/mpeg">
        </audio>
    </div>

    <!-- 跳过导航链接 -->
    <a href="#main-content" class="skip-link">跳过导航</a>
    
    <!-- 导航栏 -->
    <header>
        <div class="container">
            <nav>
                <div class="logo">军势<span>浩荡围棋</span></div>
                <button class="menu-toggle" aria-label="导航菜单">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <ul class="nav-links">
                    <li><a href="#about">游戏介绍</a></li>
                    <li><a href="#features">核心机制</a></li>
                    <li><a href="#rules">规则概要</a></li>
                    <li><a href="#resources">资源查看/下载</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- 英雄区域 -->
    <section class="hero">
        <div class="container hero-content">
            <h1>军势浩荡围棋</h1>
            <p>三方博弈，运筹帷幄，体验前所未有的战略围棋对决</p>
            <a href="#resources" class="btn">获取规则与棋盘</a>
        </div>
    </section>

    <!-- 主要内容 -->
    <main id="main-content">
        <!-- 游戏介绍 -->
        <section id="about">
            <div class="container">
                <h2>游戏介绍</h2>
                <div class="rules-container">
                    <p>《军势浩荡围棋》是一款创新性的三方对战围棋变体，融合了传统围棋的智慧与军事战略的深度。游戏在23×23的"战场"上展开，三方势力各自为战，通过巧妙的兵力部署、堡垒建设和战略联盟，争夺最终的胜利。</p>
                    <p>独特的"浩荡机制"让被提掉的棋子返回玩家手中，将游戏焦点从歼灭转向阵地控制和资源调度，创造出全新的战略维度。</p>
                </div>
            </div>
        </section>

        <!-- 核心机制 -->
        <section id="features" class="pattern-bg">
            <div class="container">
                <h2>核心机制</h2>
                <div class="features">
                    <div class="feature-card">
                        <div class="feature-content">
                            <h3>浩荡机制</h3>
                            <p>被提掉的棋子返回玩家手中，而非移出游戏。这彻底改变了围棋的消耗战本质，强调战略位置的重要性而非单纯吃子。</p>
                        </div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-content">
                            <h3>三方博弈</h3>
                            <p>三位玩家在同一棋盘上角逐，创造了动态的联盟与背叛可能性。时刻注意两线作战的危险与机会！</p>
                        </div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-content">
                            <h3>堡垒系统</h3>
                            <p>建造坚固的堡垒作为战略支点。堡垒拥有8口气，既可被摧毁也可被己方回收，增加了阵地战的深度。</p>
                        </div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-content">
                            <h3>称帝机制</h3>
                            <p>占领中央"汉宫"的玩家可以称帝，改变游戏局势，引发其他玩家组成"讨逆军"联盟，进入游戏高潮阶段。</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 规则概要 -->
        <section id="rules">
            <div class="container">
                <h2>规则概要</h2>
                <div class="rules-container">
                    <div class="rule-category">
                        <h3>基础设定</h3>
                        <p>三方玩家各控制40个棋子，在23×23的棋盘上对战。每个玩家有一个"座"（角星），空出的第四个角为中立区。</p>
                    </div>
                    <div class="rule-category">
                        <h3>军队部署</h3>
                        <p>场上最多同时存在20个己方棋子（堡垒除外）。超过限制时，新下子必须收回一个己方棋子。首个棋子必须下在己方"座"的五格范围内，后续棋子需在已有棋子的两格范围内。</p>
                    </div>
                    <div class="rule-category">
                        <h3>胜利条件</h3>
                        <p>主要胜利方式：使一方失去"座"。当只剩一方有"座"时获胜。特殊胜利：一方"称帝"后，若能在100回合内保持对"汉宫"的控制，则直接获胜。</p>
                    </div>
                    <div class="rule-category">
                        <h3>阵营互动</h3>
                        <p>玩家可以两两结盟，共享气点。当一方称帝后，其余两方自动组成"讨逆军"联盟，必须合作推翻帝王。</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 资源下载 -->
        <section id="resources" class="pattern-bg">
            <div class="container">
                <h2>资源下载/查看</h2>
                <div class="resources">
                    <div class="resource-card">
                        <h3>完整规则书</h3>
                        <p>包含游戏所有机制和规则的详细说明</p>
                        <a href="GUI.html" class="btn" >查看规则</a>
                    </div>
                    <div class="resource-card">
                        <h3>23×23棋盘</h3>
                        <p>专用战场棋盘打印文件</p>
                        <a href="/downloads/board.pdf" class="btn" download>下载PDF</a>
                    </div>
                    <div class="resource-card">
                        <h3>快速入门指南</h3>
                        <p>简化版规则，帮助快速上手</p>
                        <a href="/downloads/quickstart.pdf" class="btn" download>下载PDF</a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 页脚 -->
    <footer>
        <div class="container footer-content">
            <p>© 2023 军势浩荡围棋 - 所有权利保留</p>
            <ul class="footer-links">
                <li><a href="/forum">规则论坛</a></li>
                <li><a href="/battlereports">战报分享</a></li>
                <li><a href="/contact">联系我们</a></li>
            </ul>
        </div>
    </footer>

   
       <script>
        // 移动导航菜单功能
        document.addEventListener('DOMContentLoaded', function() {
            const menuToggle = document.querySelector('.menu-toggle');
            const navLinks = document.querySelector('.nav-links');
            
            menuToggle.addEventListener('click', function() {
                navLinks.classList.toggle('active');
                menuToggle.classList.toggle('active');
            });
            
            // 点击导航链接后关闭菜单（移动端）
            const navItems = document.querySelectorAll('.nav-links a');
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    if (window.innerWidth <= 768) {
                        navLinks.classList.remove('active');
                        menuToggle.classList.remove('active');
                    }
                });
            });
            
            // 音乐播放器功能
            const musicPlayer = document.getElementById('musicPlayer');
            const bgMusic = document.getElementById('bgMusic');
            const playPauseBtn = document.getElementById('playPauseBtn');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const volumeSlider = document.getElementById('volumeSlider');
            
            // 音乐列表（可以替换为您自己的音乐文件）
            const musicList = [
                'JUN2/music/0558_030c_545a_228b276b704ffdf2992ac0b49fb52bd3.m4a',
                'JUN2/music/Distractions.m4a',
                'JUN2/music/Kauan.m4a',
                'JUN2/music/Sometimes.mp3',
                'JUN2/music/Sudade.m4a',
                'JUN2/music/The wind, The Sea.m4a',
                'JUN2/music/This Place Is a Shelter.m4a',
                'JUN2/music/克莱因之心.m4a',
                'JUN2/music/燃.mp3',
            ];
            
            let currentMusicIndex = 0;
            let isPlaying = false;
            
            // 设置初始音量
            bgMusic.volume = volumeSlider.value;
            
            // 切换播放器展开/收起状态
            musicPlayer.addEventListener('click', function(e) {
                // 防止点击内部按钮时触发折叠
                if (e.target === musicPlayer || e.target.classList.contains('music-icon')) {
                    musicPlayer.classList.toggle('expanded');
                }
            });
            
            // 播放/暂停功能
            playPauseBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                
                if (bgMusic.paused) {
                    bgMusic.play().then(() => {
                        isPlaying = true;
                        musicPlayer.classList.add('playing');
                        playPauseBtn.textContent = '❚❚';
                    }).catch(err => {
                        console.log('播放失败:', err);
                    });
                } else {
                    bgMusic.pause();
                    isPlaying = false;
                    musicPlayer.classList.remove('playing');
                    playPauseBtn.textContent = '▶';
                }
            });
            
            // 上一首功能
            prevBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                currentMusicIndex = (currentMusicIndex - 1 + musicList.length) % musicList.length;
                loadMusic(currentMusicIndex);
                if (isPlaying) {
                    bgMusic.play();
                }
            });
            
            // 下一首功能
            nextBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                currentMusicIndex = (currentMusicIndex + 1) % musicList.length;
                loadMusic(currentMusicIndex);
                if (isPlaying) {
                    bgMusic.play();
                }
            });
            
            // 音量控制
            volumeSlider.addEventListener('input', function() {
                bgMusic.volume = this.value;
            });
            
            // 加载音乐函数
            function loadMusic(index) {
                bgMusic.src = musicList[index];
                bgMusic.load();
            }
            
            // 音乐结束时自动播放下一首
            bgMusic.addEventListener('ended', function() {
                currentMusicIndex = (currentMusicIndex + 1) % musicList.length;
                loadMusic(currentMusicIndex);
                if (isPlaying) {
                    bgMusic.play();
                }
            });
            
            // 检查用户是否已与页面交互过
            let userInteracted = false;
            
            document.addEventListener('click', function() {
                if (!userInteracted) {
                    userInteracted = true;
                    // 用户首次交互后允许音频播放
                    bgMusic.volume = volumeSlider.value;
                }
            });
        });
    </script>
</body>
</html>

